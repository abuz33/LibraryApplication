
@{
    ViewBag.Title = "Update Member Information";
    int number = 0;
}
@using LibraryApplication.Data.Model
@model Book

<h2>UPDATE BOOK INFORMATION</h2>

<form class="form-horizontal">

    <div class="form-group">
        <label class="col-sm-12">Add a Category</label>
        <div class="col-sm-10">
            <select id="categories" class="form-control">
                @foreach (var ctg in ViewBag.Categories)
                {
                    number = 0;
                    foreach (var addedCategories in Model.Categories)
                    {
                        Console.WriteLine(addedCategories);
                        if (ctg.Id != addedCategories.Id)
                        {
                            if (number < Model.Categories.Count - 1)
                            {
                                number++;
                            }
                            else
                            {
                                <option data-id="@ctg.Id">@ctg.CategoryName</option>
                                break;
                            }
                        }
                        else
                        {
                            break;
                        }

                    }
                }
            </select>
        </div>
        <div class="col-sm-2">
            <input type="button" class="addCat btn btn-block btn-success" value="Add" />
        </div>
        <div id="addedCategories" class="form-group">
            <label class="col-md-12">Categories</label>
            @foreach (var ctg in Model.Categories)
            {
                <div id="@ctg.Id " class="deleteCategory col-md-1 bg-primary" style="margin-right:2px; margin-bottom:2px; ">
                    @ctg.CategoryName <i class="fa fa-times"></i>
                </div>
            }
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-12">Choose a Writer</label>
        <div class="col-sm-12">
            <select id="writer" class="form-control">
                @foreach (var wrt in ViewBag.Writers)
                {
                    if (Model.writer.WriterName == wrt.WriterName)
                    {
                        <option data-id="@wrt.Id" selected="selected">@wrt.WriterName</option>
                    }
                    <option data-id="@wrt.Id">@wrt.WriterName</option>
                }
            </select>
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-12">Book Name</label>
        <div class="col-md-12">
            <input id="bookName" type="text" class="form-control" placeholder="Enter the book name" value="@Model.BookName">
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-12">Book Quantity</label>
        <div class="col-md-12">
            <input id="bookQuantity" type="text" class="form-control" placeholder="Enter the book quantity" value="@Model.InStock">
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-12">Order Number</label>
        <div class="col-md-12">
            <input id="orderNumber" type="text" class="form-control" placeholder="Enter the book order number" value="@Model.OrderNumber">
        </div>
    </div>

    <div class="form-group">
        <div class="col-md-12">
            <input type="button" id="updateBook" data-id="@Model.Id" class="btn btn-block btn-info" value="Update" />
        </div>
    </div>
</form>

